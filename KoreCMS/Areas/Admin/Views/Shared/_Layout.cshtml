@using Microsoft.AspNet.Identity
@using Kore.Infrastructure
@using Kore.Web.Configuration

@{
    var siteSettings = EngineContext.Current.Resolve<KoreSiteSettings>();
    
    Style.IncludeJQueryUI();
    Style.IncludeBootstrap();
    Style.IncludeBundle("kore-icons");
    Style.IncludeExternal("~/Areas/Admin/Content/css/dashboard.css");

    Script.IncludeJQuery();
    Script.IncludeJQueryUI();
    Script.IncludeBootstrap();
    Script.IncludeJQueryValidate();
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - @siteSettings.SiteName</title>
    @RenderSection("styles", required: false)
    @RenderStyles()
</head>
<body>

    @using (Html.BeginForm("LogOff", "Account", new { area = "" }, FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
    {
        @Html.AntiForgeryToken()
    }

    <header class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                    <span class="sr-only">@T("Toggle navigation")</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="@Url.Action("Index", "Dashboard", new { area = "Admin" })">
                    @siteSettings.SiteName
                </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-collapse-1">
                @Html.Partial("AdminMenu")
                <ul id="secondary-nav" class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">
                            <i class="fa fa-home"></i>
                            <span>@T("Frontend")</span>
                        </a>
                    </li>
                    @*<li>
                        <a href="@Url.Action("ViewMyProfile", "Account", new { area = KoreConstants.Areas.Security })">
                            <i class="fa fa-user"></i>
                            <span>@WorkContext.CurrentUser.ToString()</span>
                        </a>
                    </li>*@
                    <li>
                        <a href="javascript:document.getElementById('logoutForm').submit()">
                            <i class="fa fa-power-off"></i>
                            <span>@T("Logout")</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </header>

    <div class="container">
        @*<div class="row">
                <div class="pull-left">
                    <a href="@Url.Action("ResetCache", "Dashboard", new { area = KoreConstants.Areas.Dashboard })" class="btn btn-warning">
                        <i class="fa fa-refresh"></i>
                        @T("Reset Cache")
                    </a>
                </div>
                <div class="pull-right">
                    @Display(WorkContext.Layout.LanguageSwitchZone)
                </div>
            </div>*@

        @*<div class="clearfix"></div>
        <br />*@

        @if (WorkContext.Breadcrumbs.Any())
        {
            <div class="row">
                @Html.Partial("Breadcrumbs")
            </div>
        }

        @RenderBody()
    </div>

    @RenderScripts()
    
    <script type="text/javascript">
        @* Hack to fix problem with bundling of tiny mce *@
        var tinyMCEContentCss = "";
        if (typeof tinyMCE !== "undefined") {
            tinyMCEContentCss = '@Url.Content("~/Content/bootstrap.min.css")';
            @*tinyMCEContentCss = ['@Url.Content("~/Content/bootstrap.min.css")'],['@Url.Content("~/Content/font-awesome.min.css")'];*@
            tinyMCE.baseURL = '@Url.Content("~/Scripts/tinymce/")';
        }
    </script>

    @RenderSection("scripts", required: false)

    <script type="text/javascript">
        $(document).ready(function () {
            //add classes: elFinder
            $(".elfinder-button-icon.elfinder-button-icon-back").removeClass().addClass("fa fa-2x fa-arrow-left");
            $(".elfinder-button-icon.elfinder-button-icon-forward").removeClass().addClass("fa fa-2x fa-arrow-right");
            $(".elfinder-button-icon.elfinder-button-icon-reload").removeClass().addClass("fa fa-2x fa-refresh");
            $(".elfinder-button-icon.elfinder-button-icon-home").removeClass().addClass("fa fa-2x fa-home");
            $(".elfinder-button-icon.elfinder-button-icon-up").removeClass().addClass("fa fa-2x fa-level-up");
            $(".elfinder-button-icon.elfinder-button-icon-mkfile").removeClass().addClass("fa fa-2x fa-file-o");
            $(".elfinder-button-icon.elfinder-button-icon-upload").removeClass().addClass("fa fa-2x fa-upload");
            $(".elfinder-button-icon.elfinder-button-icon-open").removeClass().addClass("fa fa-2x fa-folder-open-o");
            $(".elfinder-button-icon.elfinder-button-icon-download").removeClass().addClass("fa fa-2x fa-save");
            $(".elfinder-button-icon.elfinder-button-icon-info").removeClass().addClass("fa fa-2x fa-info");
            $(".elfinder-button-icon.elfinder-button-icon-quicklook").removeClass().addClass("fa fa-2x fa-search");
            $(".elfinder-button-icon.elfinder-button-icon-copy").removeClass().addClass("fa fa-2x fa-copy");
            $(".elfinder-button-icon.elfinder-button-icon-cut").removeClass().addClass("fa fa-2x fa-cut");
            $(".elfinder-button-icon.elfinder-button-icon-paste").removeClass().addClass("fa fa-2x fa-paste");
            $(".elfinder-button-icon.elfinder-button-icon-rm").removeClass().addClass("fa fa-2x fa-trash-o");
            $(".elfinder-button-icon.elfinder-button-icon-duplicate").removeClass().addClass("fa fa-2x fa-copy");
            $(".elfinder-button-icon.elfinder-button-icon-edit").removeClass().addClass("fa fa-2x fa-edit");
            $(".elfinder-button-icon.elfinder-button-icon-resize").removeClass().addClass("fa fa-2x fa-arrows-alt");
            $(".elfinder-button-icon.elfinder-button-icon-view").removeClass().addClass("fa fa-2x fa-th-list");
            $(".elfinder-button-icon.elfinder-button-icon-view.elfinder-button-icon-view-list").removeClass().addClass("fa fa-2x fa-list");
            $(".elfinder-button-icon.elfinder-button-icon-sort").removeClass().addClass("fa fa-2x fa-sort-alpha-asc");

            $(".elfinder-button-icon.elfinder-button-icon-mkdir")
                .removeClass()
                .addClass("fa fa-stack-2x fa-folder-open-o")
                .parent().addClass("fa-stack fa-lg")
                .append('<span class="fa fa-stack-1x fa-sub fa-plus text-primary"></span>');
        });
    </script>

</body>
</html>