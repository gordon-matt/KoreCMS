@using Kore.Web.ContentManagement
@using Kore.Web.ContentManagement.Extensions;

@{
    Layout = KoreWebConstants.DefaultAdminLayoutPath;
    
    Style.IncludeBundle("kendo-ui");

    Script.IncludeBundle("kendo-ui");
    Script.IncludeBundle("knockout");
    Script.IncludeBundle("knockout-mapping");
    Script.IncludeBundle("notify");

    Script.IncludeBundle("kore-cms/membership");

    string initialView = ViewBag.InitialView;
}

@Html.Partial("Kore.Web.ContentManagement.Areas.Admin.Membership.Views.Membership.Users")
@Html.Partial("Kore.Web.ContentManagement.Areas.Admin.Membership.Views.Membership.EditUser")
@Html.Partial("Kore.Web.ContentManagement.Areas.Admin.Membership.Views.Membership.EditUserRoles")
@Html.Partial("Kore.Web.ContentManagement.Areas.Admin.Membership.Views.Membership.ChangePassword")
@Html.Partial("Kore.Web.ContentManagement.Areas.Admin.Membership.Views.Membership.Roles")
@Html.Partial("Kore.Web.ContentManagement.Areas.Admin.Membership.Views.Membership.EditRole")
@Html.Partial("Kore.Web.ContentManagement.Areas.Admin.Membership.Views.Membership.EditRolePermissions")

@section scripts {
    <script type="text/javascript">
        var gridPageSize = @SiteSettings.DefaultGridPageSize;
        var emptyGuid = '00000000-0000-0000-0000-000000000000';
        var currentSection = $("#users-grid-section");

        function switchSection(section) {
            currentSection.hide("fast");
            section.show("fast");
            currentSection = section;
        };

        @if (initialView == "Role")
        {
            @:switchSection($("#roles-grid-section"));
            }
    </script>
}
